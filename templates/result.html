<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Search Result</title>
</head>
<body>
    {% extends 'base.html' %}
    {% block content %}
    <div class="bg-gray cover">
        <div class="container bg-lite px-5">
            <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                <h5>Search result for: <strong>{{ q }}</strong></h5>
            </div>
            
            {% if projects %}
                <div class="row align-items-center">
                    <div class="col-auto mr-auto"><h6>Found {{ projects|length }} project(s)</h6></div>
                
                    <div class="col-auto">
                    <!-- Sort -->
                    <form action="/" method="get" style="margin: -1.5rem 0 .5rem 0;">
                            <label for="searchFieldSelect"></label>
                            <select name="s" id="searchFieldSelect" class="form-control btn btn-sm btn-outline-secondary dropdown-toggle">
                                <option selected value="all">Sort by</option>
                                <option value="title">--</option>              
                            </select>
                        </form>
                    </div>
                </div>

                <div class="table-responsive">
                    <table class ="table table-striped table-responsive">
                        <thead>
                            <th scope="col" style="vertical-align: middle;"><a>Author(s)</a></th>
                            <th scope="col" style="vertical-align: middle;"><a>Project Title</a></th>
                            <th scope="col" style="vertical-align: middle;"><a>Division</a></th>
                            <th scope="col" style="vertical-align: middle;"><a>Mentor(s)</a></th>
                            <th scope="col" style="vertical-align: middle; min-width: 4.8rem;"><a>Year</a></th>
                            <th scope="col" ><a>Presentation Format</a></th>

                            <!--
                            <th>Footage Attachment</th>
                            <th>Paper</th>
                            -->
                        </thead>
                            {% for project in projects %}
                                <tr>
                                    <td><a href="">
                                        {% for author in project.author.all %}
                                            {{ author.full_name }}
                                        {% endfor %}
                                    </a></td>
                                    <td><a href="{% url 'rsprojects' project.ext_id %}">{{ project.title }}</a></td>
                                    <td>{{ project.get_division_display }}</a></td>
                                    <td>{{ project.mentor }}</td>
                                    <td>{{ project.year }}</td>
                                    <td>{{ project.get_presentation_format_display }}</td>
                                </tr>
                            {% endfor %}
                    </table>
                </div>

            {% else %}
                <p>No project matched your search criteria</p>

            {% endif %}
        </div>
    </div>
    {% endblock %}
</body>
</html>