{% extends 'base.html' %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Contact</title>
</head>
<body>
    {% block content %}
 
  <!-- <div class="wrapper"> -->
    <!-- Sidebar -->
    <!-- <nav id="sidebar" class="bg-light">
        <form action="{% url 'browse' %}" method="get">
          
          <ul class="list-unstyled components sidebar-sticky pt-5 mt-4">
            
            <li class="pl-3">
              <a href="#pageSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle"><strong>Business & Computing</strong></a>
                <ul class="collapse list-unstyled pl-3" id="pageSubmenu">
                  <li>
                    <div class="form-group form-check">
                        <input type="checkbox" class="form-check-input" id="exampleCheck1">
                        <label class="form-check-label" for="accounting">Accounting</label>
                    </div>                    
                  </li>

                  <li>
                    <div class="form-group form-check">
                        <input type="checkbox" class="form-check-input" id="exampleCheck1">
                        <label class="form-check-label" for="business">Business</label>
                    </div>                    
                  </li>

                  <li>
                    <div class="form-group form-check">
                        <input type="checkbox" class="form-check-input" id="exampleCheck1">
                        <label class="form-check-label" for="cis">Computer Information Systems</label>
                    </div>                    
                  </li>

                  <li>
                    <div class="form-group form-check">
                        <input type="checkbox" class="form-check-input" id="exampleCheck1">
                        <label class="form-check-label" for="compsci">Computer Science</label>
                    </div>                    
                  </li>

                  <li>
                    <div class="form-group form-check">
                        <input type="checkbox" class="form-check-input" id="exampleCheck1">
                        <label class="form-check-label" for="leadership">Leadership Studies</label>
                    </div>                    
                  </li>

                  <li>
                    <div class="form-group form-check">
                        <input type="checkbox" class="form-check-input" id="exampleCheck1">
                        <label class="form-check-label" for="management">Management</label>
                    </div>                    
                  </li>

                  <li>
                    <div class="form-group form-check">
                        <input type="checkbox" class="form-check-input" id="exampleCheck1">
                        <label class="form-check-label" for="marketing">Marketing</label>
                    </div>                    
                  </li>

                  <li>
                    <div class="form-group form-check">
                        <input type="checkbox" class="form-check-input" id="exampleCheck1">
                        <label class="form-check-label" for="real-estate">Real Estate</label>
                    </div>                    
                  </li>
                </ul>
            </li>

            <li class="pl-3">
                <a href="#homeSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle"><strong>Business & Computing</strong></a>
                  <ul class="collapse list-unstyled pl-3" id="homeSubmenu">
                    <li>
                      <div class="form-group form-check">
                          <input type="checkbox" class="form-check-input" id="exampleCheck1">
                          <label class="form-check-label" for="accounting">Accounting</label>
                      </div>                    
                    </li>
  
                    <li>
                      <div class="form-group form-check">
                          <input type="checkbox" class="form-check-input" id="exampleCheck1">
                          <label class="form-check-label" for="business">Business</label>
                      </div>                    
                    </li>            
          </ul>
      </form>
    </nav> -->
  <!-- </div> -->
  
  <!-- Main -->
  <main id='search-results' role="main" class="ml-sm-auto px-4 pt-2">
    <div class="row align-items-center pb-3">
      <div class="col-auto mr-auto">
        <h5>Browse projects</h5>
      </div>
      <div class="col-auto">
        <!-- Search Form -->
        <!-- <form action="/browse/" method="get" style="margin: -1.5rem 0 .5rem 0;">
              <div class="form-row reduce-spacing">
                  <label for="searchInput"></label>
                  <input name="q" id="searchInput" type="text" placeholder="Search..." class="form-control" aria-label="Search">
              </div>
        </form> -->
      </div>
    </div>

    {% if projects %}
    <!-- <div class="row align-items-center py-2">
      <div class="col-auto mr-auto"><h6>{{ projects.count }} project(s)</h6></div>
      
      <div class="col-auto"> -->
        <!-- Sort -->
        <!-- <form action="/" method="get" style="margin: -1.5rem 0 .5rem 0;">
          <label for="searchFieldSelect"></label>
          <select name="s" id="searchFieldSelect" class="form-control btn btn-sm btn-outline-secondary dropdown-toggle">
            <option selected value="all">Sort by</option>
            <option value="title">Title</option>              
            <option value="year">Year</option>              
            <option value="author__full_name">Author</option>              
            <option value="mentor">Mentor</option>              
            <option value="presentation_format">Presentation Format</option>              
          </select>
        </form>
      </div> -->
    </div>
    
    <!-- Table -->
    <div class="table-responsive">
      <table id="table_id" class="table table-striped table-responsive">
        <thead>
          <tr>
              <th scope="col" style="vertical-align: middle;"><a>Author(s)</a></th>
              <th scope="col" style="vertical-align: middle;"><a>Project Title</a></th>
              <th scope="col" style="vertical-align: middle;"><a>Division</a></th>
              <th scope="col" style="vertical-align: middle;"><a>Mentor(s)</a></th>
              <th scope="col" style="vertical-align: middle; min-width: 4.8rem;"><a>Year</a></th>
            <th scope="col" ><a>Presentation Format</a></th>
          </tr>
        </thead>
        <tbody>
          <form action="/browse/" method="get">
          {% for project in projects %}
            <tr>
              <td>
              {% for author in project.author.all %}
                  {{ author.full_name }}
                {% endfor %}
              </td>
              <td><a href="{% url 'rsprojects' project.ext_id %}">{{ project.title }}</a></td>
              <td>{{ project.get_division_display }}</a></td>
              <td>{{ project.mentor }}</td>
              <td>{{ project.year }}</td>
              <td>{{ project.get_presentation_format_display }}</td>
            </tr>
            {% endfor %}
          </form>
          </tbody>
        </table>
      </div>
      {% else %}
      <p>No project matched your search criteria</p>
      {% endif %}
    </main>
  </div>
</div>
  <!-- Javascript -->

  <style>
    .wrapper {
      display: flex;
      width: 100%;
      align-items: stretch;
    }

    #sidebar {
      min-width: 16rem;
      max-width: 16rem;
      position: fixed;
      top: 0;
      left: 0;
      min-height: 100vh;
      z-index: 999;
      color: #606060;
      transition: all 0.3s;
    }

    #sidebar.active {
      margin-left: -250px;
    }
        
    a:hover, a:focus {
        color: inherit;
        text-decoration: none;
        transition: all 0.3s;
    }

    #sidebar .sidebar-header {
        padding: 20px;
    }

    #sidebar ul.components {
        padding: 20px 0;
        border-bottom: 1px solid #47748b;
    }

    #sidebar ul p {
        padding: 10px;
    }

    #sidebar ul li a {
        padding: 10px;
        font-size: 1.1em;
        display: block;
        color: #606060;
    }
    #sidebar ul li a:hover {
        color: #fff;
        background: #efb422;
    }

    #sidebar ul li.active > a, a[aria-expanded="true"] {
        color: #606060;
    }
    ul ul a, label {
        font-size: 0.9em !important;
        padding-left: 8px !important;
    }



    a[data-toggle="collapse"] {
        position: relative;
    }

    .dropdown-toggle::after {
        display: block;
        position: absolute;
        top: 50%;
        right: 20px;
        transform: translateY(-50%);
    }
    @media (max-width: 900px) {
      #sidebar {
          margin-left: -250px;
      }
      #sidebar.active {
          margin-left: 0;
      }
    }
  
  </style>
  {% block js%}
  <script>
    $(document).ready(function () {

      $('#sidebarCollapse').on('click', function () {
          $('#sidebar').toggleClass('active');
      });

    });

    $(document).ready(function () {

    $("#sidebar").mCustomScrollbar({
        theme: "minimal"
    });

    $('#sidebarCollapse').on('click', function () {
        // open or close navbar
        $('#sidebar').toggleClass('active');
        // close dropdowns
        $('.collapse.in').toggleClass('in');
        // and also adjust aria-expanded attributes we use for the open/closed arrows
        // in our CSS
        $('a[aria-expanded=true]').attr('aria-expanded', 'false');
    });

    });
  
    $('.list-group-item .custom-control-label').on('click', function(){
      var checkBox = $(this).prev('input'); 
      
      if($(checkBox).attr('checked'))
        $(checkBox).removeAttr('checked');
      else
        $(checkBox).attr('checked', 'checked');
        
      return false;

    })
  </script>
  {% endblock %}
  {% endblock %}
</body>
</html>